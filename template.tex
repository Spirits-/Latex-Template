\documentclass[12pt,a4paper]{article}
    \usepackage{amsmath} %For math and symbols
    \usepackage[margin=2.8cm,headheight=28pt]{geometry} %For paper margins
    \usepackage{fancyhdr} %For headers
    \usepackage{datetime} %For displaying date in headers correctly
    \usepackage{fontspec}
    \usepackage{unicode-math} %For proper mathematical unicode support
    \usepackage{polyglossia} %Languages support
    \setdefaultlanguage{german}
    \usepackage{minted} %For code blocks
    \usepackage[sf]{titlesec} %For title references like \@title
    \usepackage{graphicx} %For including images
    \usepackage[colorlinks=false]{hyperref} %For creating links, in particular for the table of contents
    \usepackage{tocloft} %For modifying table of contents
    \usepackage[defaultlines=4,all]{nowidow} %For avoiding "widows" and "orphans"
    \usepackage{microtype} %Adds micro typing support
    \usepackage{tikz} %For graphical support
    \usepackage[lastpage,user]{zref}
     
    \titleformat{\section}{\LARGE\sffamily\bfseries}{\thesection}{1em}{} %Modifies the section format to be sans serif and bold.
    \titleformat{\subsection}{\Large\sffamily\bfseries}{\thesubsection}{1em}{} %Modifies the subsection format to be sans serif and bold.
    \titleformat{\subsubsection}{\large\sffamily\bfseries}{\thesubsubsection}{1em}{} %Modifies the subsubsection format to be sans serif and bold.
    \titleformat{\paragraph}[runin]{\normalfont\bfseries}{}{}{} %Changes the run-in for paragraphs to bold and main font of the document.
    \titleformat{\subparagraph}[runin]{\normalfont\bfseries}{}{}{} %Changes the run-in for paragraphs to bold and main font of the document.
    
    \renewcommand{\baselinestretch}{1.2} %Controls line spacing. 
    
    \renewcommand{\cftsecleader}{\cftdotfill{\cftdotsep}} %Adds dotted lines to TOC for sections.

    \renewcommand\theFancyVerbLine{\small\arabic{FancyVerbLine}} %Changes the font size of the line numberings in the minted code environment. 
    \usemintedstyle{paraiso-light} %For Dark use paraiso-dark
    \setminted{
        frame=lines,    
        framesep=2mm,
        baselinestretch=1.2,
        %bgcolor=e7e9db, %For dark, use 2f1e2e, comment line out for white background
        linenos,
        breaklines=true,
        autogobble
    }
    
    \setmainfont{Charis SIL}
    \setsansfont{Helvetica Now Display}
    \setmonofont[Scale=MatchLowercase]{Fira Code Retina}
    \setmathfont{STIX Two Math}
    \setmathfont[range=\mathup/{num},Numbers=SlashedZero]{Charis SIL}

    \makeatletter
    \author{John Doe}\let\Author\@author
    \title{Example document}\let\Title\@title
    \lhead{\Author \\ MAT-NR}
    \rhead{Subject \\ \Title}
    \lfoot{\today}
    \rfoot{\thepage/\zpageref{LastPage}}
    \cfoot{}
    \renewcommand{\headrulewidth}{0pt}
    \pagestyle{fancy}

\begin{document}
%\maketitle
%\tableofcontents
%\newpage

\end{document}